<head>
	<!-- Load plotly.js into the DOM -->
	<script src='https://cdn.plot.ly/plotly-2.27.0.min.js'></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js'></script>
</head>

<body>
	<div id='myDiv'><!-- Plotly chart will be drawn inside this DIV --></div>
    <script>
    d3.csv("https://raw.githubusercontent.com/Luspam/luspam.github.io/master/riscaldamento/2024-03.csv", function(err, rows){

        function unpack(rows, key) {
        return rows.map(function(row) { return row[key]; });
      }
      
      
      var trace1 = {
        type: "scatter",
        mode: "lines",
        name: 'Piano Terra',
        x: unpack(rows, 't'),
        y: unpack(rows, 'T0'),
        line: {color: '#17BECF'}
      }
      
      var trace2 = {
        type: "scatter",
        mode: "lines",
        name: 'Piano 1',
        x: unpack(rows, 't'),
        y: unpack(rows, 'T1'),
        line: {color: '#7F7F7F'}
      }
      
      var data = [trace1,trace2];
      
      var layout = {
        title: 'Riscaldamento 2024-03',
        xaxis: {
            autorange: true,
            rangeslider: {range: ['2024-03-01', '2024-03-08']},
            type: 'date'
            } 
        };
      
      Plotly.newPlot('myDiv', data, layout);
      })
      </script>
      </body>